gg.alert('温馨提示:本脚本使用最后期限为2021年6月25日')
endtime=load('return os.time{year=2021, month=6, day=25, hour=0,min=0, sec=0}')()
 if(os.time()>endtime) then
gg.alert('已过期')
os.exit()
end

--[[
	说明：	GG版本最低要求： 8.68.5
--]]


local i, count, list
local save_list_count = 0
local save_list = {}

local address_from, address_to, count_2, list_2, temp


gg.setVisible(false)

gg.clearResults()
	
gg.searchNumber("110;1036831949D;1036831949D;981668463D;98D::110", gg.TYPE_DWORD)
count = gg.getResultsCount()
if(count == 0) then
	gg.toast("#No result.02!")
	--return 0
end
list = gg.getResults(count)
	
for i=1, count, 1 do
	if( list[i].value == 110 and 
		list[i+1].value == 1036831949 and 	
		list[i+2].value == 1036831949 and 
 	list[i+3].value == 981668463 and 
		list[i+4].value == 98) then
        save_list[save_list_count+1] = {}
		save_list[save_list_count+1].address = list[4].address +84   
		save_list[save_list_count+1].flags = gg.TYPE_DWORD
		save_list[save_list_count+1].value = '200'
		save_list[save_list_count+1].freeze = true
		save_list_count = save_list_count + 1
		
		
	
	end
end

gg.setVisible(false)

gg.clearResults()
	
gg.searchNumber("2D;255D;1F;1D::48", gg.TYPE_DWORD)
count = gg.getResultsCount()
if(count == 0) then
	gg.toast("#No result.01!")
	--return 0
end
list = gg.getResults(count)
	
for i=1, count, 1 do
	if( list[i].value == 2 and
		list[i+1].value == 255 and 
		list[i+2].value == 1.0 and 
		list[i+3].value == 1) then
		
		save_list[save_list_count+1] = {}
		save_list[save_list_count+1].address = list[i].address + 23400
		save_list[save_list_count+1].flags = gg.TYPE_DWORD
		save_list[save_list_count+1].value = '0)'
		save_list[save_list_count+1].freeze = true
		save_list_count = save_list_count + 1
			 	
		
					
	
		
		save_list[save_list_count+1] = {}
		save_list[save_list_count+1].address = list[i].address + 34320	
		save_list[save_list_count+1].flags = gg.TYPE_DWORD
		save_list[save_list_count+1].value ='0'
		save_list[save_list_count+1].freeze = true
		save_list_count = save_list_count + 1		
		
		save_list[save_list_count+1] = {}

		save_list[save_list_count+1].address = list[i].address + 63440
		save_list[save_list_count+1].flags = gg.TYPE_DWORD

		save_list[save_list_count+1].value = '0'

		save_list[save_list_count+1].freeze = true

		save_list_count = save_list_count + 1

        save_list[save_list_count+1] = {}
		save_list[save_list_count+1].address = list[i].address + 70720
		save_list[save_list_count+1].flags = gg.TYPE_DWORD
		save_list[save_list_count+1].value = '0'
		save_list[save_list_count+1].freeze = true
		save_list_count = save_list_count + 1
		
		
	
	
	
		save_list[save_list_count+1] = {}
		save_list[save_list_count+1].address = list[i].address + 74788
		save_list[save_list_count+1].flags = gg.TYPE_DWORD
		save_list[save_list_count+1].value = '0'
		save_list[save_list_count+1].freeze = true
		save_list_count = save_list_count + 1
	
	

	end

end

gg.setVisible(false)  

------------------------����1------------------------
gg.clearResults()
gg.searchNumber('1;255;200;50;1', gg.TYPE_DWORD)
count = gg.getResultCount()
if(count == 0) then
	print("#1--no results")
	return false
end
list = gg.getResults(count)

for i=1,count-4,1 do
	if (list[i].value == '1' and list[i+1].value == '255' and list[i+2].value == '200' and list[i+3].value == '50' and list[i+4].value == '1') then
 	temp = list[i].address
		list[i+1].value = '2'
		list[i+2].value = '7000'
		gg.setValues(list)
	end
end

------------------------end------------------------
gg.clearResults()
gg.searchNumber('2;255;150;1;6;9', gg.TYPE_DWORD)
count = gg.getResultCount()
if(count == 0) then
	print("#1--no results")
	return false
end
list = gg.getResults(count)

for i=1,count-4,1 do
	if (list[i].value == '2' and list[i+1].value == '255' and list[i+2].value == '150' and list[i+3].value == '1' and list[i+4].value == '6' and list[i+5].value == '9') then
 	temp = list[i].address
        list[i+1].value = '2'
		list[i+2].value = '550'
		gg.setValues(list)
	end
end

gg.clearResults()
gg.searchNumber('2;255;100;25;6::350', gg.TYPE_DWORD)
count = gg.getResultCount()
if(count == 0) then
	print("#1--no results")
	return false
end
list = gg.getResults(count)

for i=1,count-4,1 do
	if (list[i].value == '2' and list[i+1].value == '255' and list[i+2].value == '100' and list[i+3].value == '25' and list[i+4].value == '6') then
		list[i+1].value = '1'
		list[i+2].value = '5000'
		list[i+3].value ='300'
		gg.setValues(list)
	end
end


temp = list[1].address
gg.addListItems(save_list)
gg.setValues(save_list)

gg.clearResults()
gg.toast("脚本已结束！")

